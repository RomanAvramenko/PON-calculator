(this["webpackJsonppon-calculator"]=this["webpackJsonppon-calculator"]||[]).push([[4],{26:function(t,i,e){"use strict";(function(t){e.d(i,"a",(function(){return c}));var o=e(0),s=e(35),n=e(17),a=e.n(n),c=(e(28),function(t){var i=t.callback,e=Object(s.a)(),n=Object(s.b)({click:function(){var t=n._container.textContent.slice(-16,-10).match(/\d+/g);i(!!t&&t.join(""))}});return Object(o.useEffect)((function(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(t){e.panTo(new a.a.LatLng(t.coords.latitude,t.coords.longitude))})):e.panTo(new a.a.LatLng(50.4421237150998,30.520453831008716))}),[e]),Object(o.useEffect)((function(){e&&a.a.control.ruler().addTo(e)}),[e]),null});!function(i,o){"object"===typeof exports&&(t.exports=i(e(17))),"undefined"!==typeof o&&o.L&&(o.L.Ruler=i(a.a))}((function(t){t.Control.Ruler=t.Control.extend({options:{position:"topleft",circleMarker:{color:"black",radius:2},lineStyle:{color:"black",dashArray:"1,6"}},onAdd:function(i){return this._map=i,this._container=t.DomUtil.create("div","leaflet-bar"),this._container.classList.add("leaflet-ruler"),t.DomEvent.disableClickPropagation(this._container),t.DomEvent.on(this._container,"click",this._toggleMeasure,this),this._choice=!1,this._defaultCursor=this._map._container.style.cursor,this._allLayers=t.layerGroup(),this._container},onRemove:function(){t.DomEvent.off(this._container,"click",this._toggleMeasure,this)},_toggleMeasure:function(){this._choice=!this._choice,this._clickedLatLong=null,this._clickedPoints=[],this._totalLength=0,this._choice?(this._map.doubleClickZoom.disable(),t.DomEvent.on(this._map._container,"keydown",this._escape,this),t.DomEvent.on(this._map._container,"dblclick",this._closePath,this),this._container.classList.add("leaflet-ruler-clicked"),this._clickCount=0,this._tempLine=t.featureGroup().addTo(this._allLayers),this._tempPoint=t.featureGroup().addTo(this._allLayers),this._pointLayer=t.featureGroup().addTo(this._allLayers),this._polylineLayer=t.featureGroup().addTo(this._allLayers),this._allLayers.addTo(this._map),this._map._container.style.cursor="crosshair",this._map.on("click",this._clicked,this),this._map.on("mousemove",this._moving,this)):(this._map.doubleClickZoom.enable(),t.DomEvent.off(this._map._container,"keydown",this._escape,this),t.DomEvent.off(this._map._container,"dblclick",this._closePath,this),this._container.classList.remove("leaflet-ruler-clicked"),this._map.removeLayer(this._allLayers),this._allLayers=t.layerGroup(),this._map._container.style.cursor=this._defaultCursor,this._map.off("click",this._clicked,this),this._map.off("mousemove",this._moving,this))},_clicked:function(i){var e;(this._clickedLatLong=i.latlng,this._clickedPoints.push(this._clickedLatLong),t.circleMarker(this._clickedLatLong,this.options.circleMarker).addTo(this._pointLayer),this._clickCount>0&&!i.latlng.equals(this._clickedPoints[this._clickedPoints.length-2]))&&(this._movingLatLong&&t.polyline([this._clickedPoints[this._clickCount-1],this._movingLatLong],this.options.lineStyle).addTo(this._polylineLayer),this._totalLength+=this._result.Distance,this._clickCount>1?(this.options.distaneValue=this._totalLength.toFixed(),e=this._totalLength.toFixed()+" m"):(this.options.distaneValue=this._result.Distance.toFixed(),e=this._result.Distance.toFixed()+" m"),t.circleMarker(this._clickedLatLong,this.options.circleMarker).bindTooltip(e,{permanent:!0,className:"result-tooltip"}).addTo(this._pointLayer).openTooltip());this._clickCount++},_moving:function(i){var e;this._clickedLatLong&&(t.DomEvent.off(this._container,"click",this._toggleMeasure,this),this._movingLatLong=i.latlng,this._tempLine&&(this._map.removeLayer(this._tempLine),this._map.removeLayer(this._tempPoint)),this._addedLength=0,this._tempLine=t.featureGroup(),this._tempPoint=t.featureGroup(),this._tempLine.addTo(this._map),this._tempPoint.addTo(this._map),this._calculateBearingAndDistance(),this._addedLength=this._result.Distance+this._totalLength,t.polyline([this._clickedLatLong,this._movingLatLong],this.options.lineStyle).addTo(this._tempLine),e=this._clickCount>1?this._addedLength.toFixed()+" m":this._result.Distance.toFixed()+" m",t.circleMarker(this._movingLatLong,this.options.circleMarker).bindTooltip(e,{sticky:!0,offset:t.point(0,0),className:"moving-tooltip"}).addTo(this._tempPoint).openTooltip())},_escape:function(t){27===t.keyCode&&(this._clickCount>0?this._closePath():(this._choice=!0,this._toggleMeasure()))},_calculateBearingAndDistance:function(){var t=this._clickedLatLong.lat,i=this._clickedLatLong.lng,e=this._movingLatLong.lat,o=this._movingLatLong.lng,s=Math.PI/180,n=(e-t)*s,a=(o-i)*s,c=Math.sin(n/2)*Math.sin(n/2)+Math.cos(t*s)*Math.cos(e*s)*Math.sin(a/2)*Math.sin(a/2),l=6371e3*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)));this._result={Distance:l}},_closePath:function(){this._map.removeLayer(this._tempLine),this._map.removeLayer(this._tempPoint),this._clickCount<=1&&this._map.removeLayer(this._pointLayer),this._choice=!1,t.DomEvent.on(this._container,"click",this._toggleMeasure,this),this._toggleMeasure()}}),t.control.ruler=function(i){return new t.Control.Ruler(i)}}),window)}).call(this,e(27)(t))},28:function(t,i,e){},29:function(t,i,e){},34:function(t,i,e){"use strict";e.r(i);var o=e(2),s=e(0),n=e(36),a=e(37),c=e(26),l=(e(29),e(1));i.default=function(t){var i=t.handleMapLength,e=Object(s.useState)(0),h=Object(o.a)(e,2),r=h[0],_=h[1];return Object(l.jsxs)("div",{id:"mapid",children:[Object(l.jsxs)(n.a,{center:[50.4421237150998,30.520453831008716],zoom:13,scrollWheelZoom:!0,children:[Object(l.jsx)(a.a,{url:"http://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}"}),Object(l.jsx)(c.a,{callback:function(t){_(t)}})]}),Object(l.jsx)("input",{className:"map-button",type:"button",value:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onClick:function(){return i(r)}})]})}}}]);
//# sourceMappingURL=4.3870e128.chunk.js.map